<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Supply Agreement</title>
  <style>
    /* Import Roboto */
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');

    :root {
      --primary-color: #005f8c;
      --accent-color: #00aaff;
      --border-color: #ccc;
      --text-color: #333;
      --heading-color: #002d4a;
      --font-base: 'Roboto', sans-serif;
    }

    body {
      font-family: var(--font-base);
      color: var(--text-color);
      margin: 0;
      padding: 30px;
      font-size: 12px;
      line-height: 1.5;
    }

    /* Header */
    .header {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
    }
    .header img {
      height: 60px;
    }
    .header .title {
      flex: 1;
      text-align: right;
      font-size: 24px;
      font-weight: 700;
      color: var(--heading-color);
    }

    .intro {
      margin-bottom: 30px;
      font-size: 11px;
    }
    .intro strong { color: var(--primary-color); }

    /* Grid sections */
    .grid-2 {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 30px;
    }
    .box {
      border: 1px solid var(--border-color);
      border-radius: 4px;
      padding: 12px;
    }
    .box h3 {
      margin-top: 0;
      font-size: 14px;
      color: var(--primary-color);
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 4px;
    }
    .box p {
      margin: 6px 0;
      font-size: 12px;
    }

    /* Charge rates table */
    .rates-table,
    .breakdown-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }
    .rates-table th,
    .rates-table td,
    .breakdown-table th,
    .breakdown-table td {
      border: 1px solid var(--border-color);
      padding: 6px;
      text-align: left;
      font-size: 11px;
    }
    .rates-table th {
      background: var(--accent-color);
      color: #fff;
      font-weight: 700;
    }
    .breakdown-table th {
      background: #f5f5f5;
      font-weight: 700;
    }

    /* Additional info */
    .additional {
      border: 1px dashed var(--border-color);
      padding: 10px;
      font-size: 11px;
      margin-bottom: 30px;
    }

    /* Signatures */
    .sigs {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
      margin-top: 40px;
    }
    .sig-block {
      text-align: center;
    }
    .sig-block img {
      border: 1px solid var(--border-color);
      width: 200px;
      height: 80px;
      object-fit: contain;
      margin-bottom: 6px;
    }
    .sig-info {
      font-size: 11px;
      border-top: 1px solid var(--border-color);
      padding-top: 6px;
      color: var(--text-color);
    }
    .sig-info strong {
      display: inline-block;
      width: 70px;
      text-align: right;
      margin-right: 8px;
    }

    /* Footer */
    .footer {
      margin-top: 40px;
      font-size: 10px;
      color: #666;
    }
  </style>
</head>

<body>
  <!-- HEADER -->
  <div class="header">
    <img src="data:image/png;base64,{{ logo_b64 }}" alt="PRL Logo"/>
    <div class="title">SUPPLY AGREEMENT</div>
  </div>

  <div class="intro">
    This agreement is issued in conjunction with our Terms of Business. It confirms the details of the supply of temporary workers to you and our agreed charge rates (exclusive of VAT).<br/>
    Please contact us on <strong>0800 772 3959</strong> or email <strong>info@prlsitesolutions.co.uk</strong> if you have any queries.
  </div>

  <!-- YOUR DETAILS & SUPPLY DETAILS -->
  <div class="grid-2">
    <div class="box">
      <h3>Your Details</h3>
      <p><strong>Company Name:</strong> {{ company_name }}</p>
      <p><strong>Address:</strong> {{ address }}</p>
      <p><strong>Reg. No:</strong> {{ reg_no }}</p>
    </div>
    <div class="box">
      <h3>Supply Details</h3>
      <p><strong>For the Supply of:</strong> {{ supply_of }}</p>
      <p><strong>Site Location:</strong> {{ site_location }}</p>
      <p><strong>Start Date:</strong> {{ start_date }}</p>
    </div>
  </div>

  <!-- CHARGE RATES & BREAKDOWN -->
  <div class="grid-2">
    <div>
      <table class="rates-table">
        <tr><th>Description</th><th>Rate</th><th>Basis</th></tr>
        {% for desc, rate, basis in rates %}
          <tr>
            <td>{{ desc }}</td>
            <td>{{ rate }}</td>
            <td>{{ basis }}</td>
          </tr>
        {% endfor %}
      </table>
    </div>
    <div>
      <table class="breakdown-table">
        <tr><th>BREAKDOWN</th></tr>
        <tr><td>First 40 hours Mon–Fri (including breaks)</td></tr>
        <tr><td>After 40 hours Mon–Fri &amp; all hours Saturday</td></tr>
        <tr><td>All hours Sunday</td></tr>
      </table>
    </div>
  </div>

  <!-- ADDITIONAL INFO -->
  <div class="additional">
    {{ terms }}
  </div>

  <!-- SIGNATURES -->
  <div class="sigs">
    <div class="sig-block">
      <img src="data:image/png;base64,{{ kt_b64 }}" alt="PRL Signature"/>
      <div class="sig-info">
        <p><strong>Signed by:</strong> Keenan Thomas</p>
        <p><strong>Position:</strong> Managing Director</p>
        <p><strong>Date:</strong> {{ signer_date }}</p>
      </div>
    </div>

    <div class="sig-block">
      <img src="data:image/png;base64,{{ client_sig_b64 }}" alt="Client Signature"/>
      <div class="sig-info">
        <p><strong>Signed by:</strong>&nbsp;</p>
        <p><strong>Position:</strong>&nbsp;</p>
        <p><strong>Date:</strong>&nbsp;</p>
      </div>
    </div>
  </div>

  <!-- FOOTER -->
  <div class="footer">
    Non-acknowledgement of this agreement and acceptance of temporary workers supplied to you by PRL Site Solutions will constitute acceptance of these terms and rates together with our Terms of Business.
  </div>
</body>
</html>
